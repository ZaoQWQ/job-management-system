{% extends "base.html" %}
{% block title %}岗位列表 - 岗位管理系统{% endblock %}
{% block content %}
    <h2>岗位列表</h2>
    
    <!-- 筛选表单 -->
    <form action="{{ url_for('index') }}" method="get" class="filter-form">
        <div class="form-group">
            <label for="company_name">企业名称</label>
            <input type="text" id="company_name" name="company_name" value="{{ company_name }}" placeholder="输入企业名称搜索">
        </div>
        <div class="form-group">
            <label for="job_title">岗位名称</label>
            <input type="text" id="job_title" name="job_title" value="{{ job_title }}" placeholder="输入岗位名称搜索">
        </div>
        <div class="form-group">
            <label for="location">工作地点</label>
            <input type="text" id="location" name="location" value="{{ location }}" placeholder="输入工作地点搜索">
        </div>
        <div style="display: flex; gap: 10px; align-items: flex-end;">
            <button type="submit" class="btn btn-primary">搜索</button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">重置</a>
        </div>
    </form>
    
    <!-- 岗位列表表格 -->
    {% if jobs %}
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>企业名称</th>
                <th>岗位名称</th>
                <th>薪资</th>
                <th>工作地点</th>
                <th>发布日期</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            {% for job in jobs %}
            <tr>
                <td>{{ job.id }}</td>
                <td>{{ job.company_name }}</td>
                <td>{{ job.job_title }}</td>
                <td>{{ job.salary }}</td>
                <td>{{ job.location }}</td>
                <td>{{ job.posted_date }}</td>
                <td>
                    <div class="actions">
                        <a href="{{ url_for('view_job', job_id=job.id) }}" class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">查看</a>
                        <a href="{{ url_for('update_job', job_id=job.id) }}" class="btn btn-primary" style="padding: 5px 10px; font-size: 12px;">编辑</a>
                        <a href="{{ url_for('delete_job', job_id=job.id) }}" class="btn btn-danger" style="padding: 5px 10px; font-size: 12px;">删除</a>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="text-align: center; padding: 30px; color: #666;">暂无岗位记录</p>
    {% endif %}
{% endblock %}